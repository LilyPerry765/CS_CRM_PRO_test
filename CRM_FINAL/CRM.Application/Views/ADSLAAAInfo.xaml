<Local:PopupWindow x:Class="CRM.Application.Views.ADSLAAAInfo"
                   Title="فرم اطلاعات سیستم AAA" 
                   xmlns:UserControls="clr-namespace:CRM.Application.UserControls"
                   xmlns:Local="clr-namespace:CRM.Application.Local"
                   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
                   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
                   xmlns:sys="clr-namespace:System.Configuration.Assemblies;assembly=mscorlib" 
                   xmlns:cal="http://schemas.microsoft.com/wpf/2008/datepicker" 
                   xmlns:uc="clr-namespace:CRM.Application.UserControls"
                   xmlns:code="clr-namespace:CRM.Application.Codes"
                   mc:Ignorable="d" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                   xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"  
                   Loaded="PopupWindow_Loaded" Icon="/CRM.Application;component/Images/Province48x48.png" 
                   Width="1200" ResizeMode="NoResize">

    <ScrollViewer Padding="0 0 10 0" FlowDirection="RightToLeft" x:Name="MainScrollViewer" >
        <Grid FlowDirection="RightToLeft">
            <Grid.RowDefinitions>
                <RowDefinition Height="30"/>
                <RowDefinition Height="10"/>
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Label Grid.Column="0" Grid.Row="0" Content="شماره تلفن : " />
            <TextBox Grid.Column="1" Grid.Row="0" x:Name="MainTelephoneNoTextBox" Style="{StaticResource ResourceKey=NumericTextBox}" TabIndex="1"/>

            <Button Grid.Row="0" Grid.Column="2" Content="نمایش اطلاعات" Name="ShowInfoButton" Click="ShowInfoButton_Click" Width="100" IsDefault="True" />

            <TabControl Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3">
                <TabItem Header=" اطلاعات ADSL " Name="ADSLInfoTab" >

                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto" />
                            <RowDefinition Height="auto" />
                            <RowDefinition Height="auto" />
                            <RowDefinition Height="auto" />
                            <RowDefinition Height="auto" />
                        </Grid.RowDefinitions>

                        <GroupBox Grid.Row="0" Header="مشخصات مشترک">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <Label Grid.Row="0" Grid.Column="0" Content="شماره پرونده : "/>
                                <TextBox Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="3" x:Name="UserIDTextBox" Style="{StaticResource ResourceKey=NumericTextBox}" />

                                <Grid Grid.Row="0" Grid.Column="4" Grid.ColumnSpan="4" Grid.RowSpan="4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="350" />
                                        <ColumnDefinition Width="75"/>
                                        <ColumnDefinition Width="75"/>
                                    </Grid.ColumnDefinitions>

                                    <Image Grid.Column="0" Name="LockStatusImage" HorizontalAlignment="Right" Height="64" Width="64"/>
                                    <Image Grid.Column="1" Name="ExpStatusImage" HorizontalAlignment="Right" Height="64" Width="64"/>
                                    <Image Grid.Column="2" Name="UserStatusImage" HorizontalAlignment="Right"  Height="64" Width="64"/>                                    
                                    
                                </Grid>                                

                                <Label Grid.Row="1" Grid.Column="0" Content="نام / عنوان مشترک : "/>
                                <TextBox Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3" x:Name="NameTextBox" />

                                <Label Grid.Row="2" Grid.Column="0" Content="وضعیت مشترک : "/>
                                <TextBox Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="3" x:Name="StatusCustomerTextBox" />

                                <Label Grid.Row="3" Grid.Column="0" Content="شماره تلفن : "/>
                                <TextBox Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="3" x:Name="TelephoneNoTextBox" Style="{StaticResource ResourceKey=NumericTextBox}" />

                                <Label Grid.Row="4" Grid.Column="0" Content="رمز ورود : "/>
                                <TextBox Grid.Row="4" Grid.Column="1"  x:Name="PasswordTextBox" Style="{StaticResource ResourceKey=NumericTextBox}" />

                                <Label Grid.Row="4" Grid.Column="2" Content="IP : "/>
                                <TextBox Grid.Row="4" Grid.Column="3" x:Name="IPTextBox" Style="{StaticResource ResourceKey=NumericTextBox}" />

                                <Label Grid.Row="4" Grid.Column="4" Content="تلفن همراه : "/>
                                <TextBox Grid.Row="4" Grid.Column="5" x:Name="MobileTextBox" Style="{StaticResource ResourceKey=NumericTextBox}" />

                                <Label Grid.Row="4" Grid.Column="6" Content="پست الکترونیکی : "/>
                                <TextBox Grid.Row="4" Grid.Column="7" x:Name="EmailTextBox" />

                                <Label Grid.Row="5" Grid.Column="0" Content="نام مرکز : "/>
                                <TextBox Grid.Row="5" Grid.Column="1" x:Name="CenterTextBox" />

                                <Label Grid.Row="5" Grid.Column="2" Content="کد پستی : "/>
                                <TextBox Grid.Row="5" Grid.Column="3" x:Name="PostalCodeTextBox" Style="{StaticResource ResourceKey=NumericTextBox}"/>

                                <Label Grid.Row="5" Grid.Column="4" Content="آدرس : "/>
                                <TextBox Grid.Row="5" Grid.Column="5" Grid.ColumnSpan="3" x:Name="AddressTextBox" />

                            </Grid>
                        </GroupBox>

                        <GroupBox Grid.Row="1" Header="مشخصات سرویس">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <Label Grid.Row="0" Grid.Column="0" Content="عنوان سرویس: "/>
                                <TextBox Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="3" x:Name="ServiceTitleTextBox"  />

                                <Label Grid.Row="1" Grid.Column="0" Content="گروه سرویس : "/>
                                <TextBox Grid.Row="1" Grid.Column="1" x:Name="GroupTextBox"  Style="{StaticResource ResourceKey=NumericTextBox}"/>

                                <Label Grid.Row="1" Grid.Column="2" Content="پهنای باند : "/>
                                <TextBox Grid.Row="1" Grid.Column="3" x:Name="BandWithTextBox" Style="{StaticResource ResourceKey=NumericTextBox}" />

                                <Label Grid.Row="1" Grid.Column="4" Content="حجم : "/>
                                <TextBox Grid.Row="1" Grid.Column="5" x:Name="TrafficTextBox" Style="{StaticResource ResourceKey=NumericTextBox}" />

                                <Label Grid.Row="1" Grid.Column="6" Content="زمان استفاده : "/>
                                <TextBox Grid.Row="1" Grid.Column="7" x:Name="DurationTextBox" Style="{StaticResource ResourceKey=NumericTextBox}" />

                            </Grid>
                        </GroupBox>

                        <GroupBox Grid.Row="2" Header="مشخصات پورت" Name="PortGroupBox" >
                            <Grid Name="PortInfoGrid">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="150" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <Label Grid.Row="0" Grid.Column="0" Content="مشخصات MDF : " />
                                <TextBox Grid.Row="0" Grid.Column="1" Name="MDFDescriptionTextBox" Text="{Binding MDFTitle}" Style="{StaticResource ResourceKey=NumericTextBox}" IsReadOnly="True"/>

                                <Label Grid.Row="0" Grid.Column="2" Content="شماره پورت : " />
                                <TextBox Grid.Row="0" Grid.Column="3" Name="PortNoTextBox" Text="{Binding Port}" IsReadOnly="True" Style="{StaticResource ResourceKey=NumericTextBox}"/>

                            </Grid>
                        </GroupBox>

                        <GroupBox Grid.Row="3" Header="مشخصات IP" >
                            <Grid Name="IPInfo">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <Label Grid.Row="0" Grid.Column="0" Content="IP تکی : " />
                                <TextBox Grid.Row="0" Grid.Column="1" Name="IPStaticTextBox" Style="{StaticResource ResourceKey=NumericTextBox}" IsReadOnly="True"/>

                                <Label Grid.Row="0" Grid.Column="2" Content="IP گروهی : " />
                                <TextBox Grid.Row="0" Grid.Column="3" Name="GroupIPStaticTextBox" IsReadOnly="True" Style="{StaticResource ResourceKey=NumericTextBox}"/>

                                <Label Grid.Row="0" Grid.Column="4" Content="تاریخ شروع : " />
                                <TextBox Grid.Row="0" Grid.Column="5" Name="IpStartDateTextBox" Style="{StaticResource ResourceKey=NumericTextBox}" IsReadOnly="True"/>

                                <Label Grid.Row="0" Grid.Column="6" Content="تاریخ پایان : " />
                                <TextBox Grid.Row="0" Grid.Column="7" Name="IPEndDateTextBox" IsReadOnly="True" Style="{StaticResource ResourceKey=NumericTextBox}"/>
                            </Grid>
                        </GroupBox>
                        
                        <GroupBox Grid.Row="4" Header="مشخصات مصرف">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>                                

                                <Label Grid.Row="0" Grid.Column="0" Content="تاریخ ایجاد : "/>
                                <TextBox Grid.Row="0" Grid.Column="1" x:Name="FisrtServiceLoginTextBox"  Style="{StaticResource ResourceKey=NumericTextBox}"/>
                                
                                <Label Grid.Row="0" Grid.Column="2" Content="تاریخ اولین اتصال : "/>
                                <TextBox Grid.Row="0" Grid.Column="3" x:Name="RealFisrtLoginTextBox" Style="{StaticResource ResourceKey=NumericTextBox}" />

                                <Label Grid.Row="0" Grid.Column="4" Content="تاریخ اولین اتصال سرویس : "/>
                                <TextBox Grid.Row="0" Grid.Column="5" x:Name="FisrtLoginTextBox" Style="{StaticResource ResourceKey=NumericTextBox}"/>                                

                                <Label Grid.Row="0" Grid.Column="6" Content="تاریخ پایان سرویس : "/>
                                <TextBox Grid.Row="0" Grid.Column="7" x:Name="NearestExpDateTextBox" Style="{StaticResource ResourceKey=NumericTextBox}"/>

                                <Label Grid.Row="1" Grid.Column="0" Content="تعداد روز باقی مانده : "/>
                                <TextBox Grid.Row="1" Grid.Column="1" x:Name="RemainedDayTextBox" Style="{StaticResource ResourceKey=NumericTextBox}"/>

                                <Label Grid.Row="1" Grid.Column="2" Content="میزان ترافیک باقی مانده : "/>
                                <TextBox Grid.Row="1" Grid.Column="3" x:Name="RemainedCreditTextBox" Style="{StaticResource ResourceKey=NumericTextBox}"/>                                                            

                                <Label Grid.Row="1" Grid.Column="4" Content="شارژ رزرو : "/>
                                <TextBox Grid.Row="1" Grid.Column="5" x:Name="NextGroupTextBox" />

                                <Label Grid.Row="1" Grid.Column="6" Content="ترافیک رزرو : "/>
                                <TextBox Grid.Row="1" Grid.Column="7" x:Name="rechargeDepositTextBox" />

                                <Label Grid.Row="2" Grid.Column="0" Content="محدودیت آدرس فیزیکی : "/>
                                <TextBox Grid.Row="2" Grid.Column="1" x:Name="LimitMacTextBox" FlowDirection="LeftToRight" />
                                
                                <!--<Label Grid.Row="4" Grid.Column="0" Content="ترافیک مصرف شده : "/>
                                <TextBox Grid.Row="4" Grid.Column="1" x:Name="LastChargedUsedTextBox" Style="{StaticResource ResourceKey=NumericTextBox}"/>-->                                

                            </Grid>
                        </GroupBox>

                    </Grid>
                </TabItem>

                <TabItem Header=" اطلاعات اتصال ها " Name="HistoryTab" code:UIElementExtension.ResourceNameVisible="ADSLAAAInfo.HistoryTab">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="10" />
                            <RowDefinition Height="auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Label Grid.Row="0" Grid.Column="0" Content="از تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="1" Name="StartDate" />

                        <Label Grid.Row="0" Grid.Column="2" Content="تا تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="3" Name="EndDate" />

                        <Button Grid.Row="1" Grid.Column="3" HorizontalAlignment="Right" Content="جستجو" Name="SearchConnectionLogsButton" Click="SearchConnectionLogsButton_Click" Width="100" />

                        <DataGrid Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="4" 
                      DockPanel.Dock="Bottom" x:Name="ConnectionLogsDataGrid"
                       BorderThickness="0 1 0 0"
                      AutoGenerateColumns="False"
                      CanUserAddRows="True"
                      CanUserResizeColumns="True"
                      CanUserResizeRows="False"
                      CanUserDeleteRows="False"
                      SelectionMode="Single"
                      SelectionUnit="FullRow"
                      ItemsSource="{Binding}"                                
                      IsReadOnly="True">
                            <DataGrid.Columns>

                                <DataGridTextColumn Header="  از تاریخ " Width="*" Binding="{Binding Path=StartDate, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  تا تاریخ " Width="*" Binding="{Binding Path=EndDate, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" حجم مصرف " Width="*" Binding="{Binding Path=CreditUsed, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  مدت زمان " Width="*" Binding="{Binding Path=Duration, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  مقدار دریافتی " Width="*" Binding="{Binding Path=ByteIN, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  مقدار ارسالی " Width="*" Binding="{Binding Path=ByteOut, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  IP  آدرس " Width="*" Binding="{Binding Path=IPAddress, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTemplateColumn Header="جزییات" Width="50">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Image Source="/CRM.Application;component/Images/info1_16x16.png" Width="16" Height="16" HorizontalAlignment="Center" Tag="{Binding Details}" MouseLeftButtonDown="ImageView_MouseLeftButtonDown" ToolTip="{Binding RequesRejectDescription}" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>

                    </Grid>
                </TabItem>

                <TabItem Header=" اطلاعات اعتبارات کاربر (Credit) " Name="CreditChangeTab" code:UIElementExtension.ResourceNameVisible="ADSLAAAInfo.CreditChangeTab">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="10" />
                            <RowDefinition Height="auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Label Grid.Row="0" Grid.Column="0" Content="از تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="1" Name="CreditStartDate" />

                        <Label Grid.Row="0" Grid.Column="2" Content="تا تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="3" Name="CreditEndDate" />

                        <Button Grid.Row="1" Grid.Column="3" HorizontalAlignment="Right" Content="جستجو" Name="SearchChangeCreditButton" Click="SearchChangeCreditButton_Click" Width="100" />

                        <DataGrid Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="4" 
                      DockPanel.Dock="Bottom" x:Name="CreditChangeDataGrid"
                       BorderThickness="0 1 0 0"
                      AutoGenerateColumns="False"
                      CanUserAddRows="True"
                      CanUserResizeColumns="True"
                      CanUserResizeRows="False"
                      CanUserDeleteRows="False"
                      SelectionMode="Single"
                      SelectionUnit="FullRow"
                      ItemsSource="{Binding}"                                
                      IsReadOnly="True">
                            <DataGrid.Columns>

                                <DataGridTextColumn Header="  تاریخ " Width="*" Binding="{Binding Path=Date, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" عملیات " Width="*" Binding="{Binding Path=Action, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" نام ISP " Width="*" Binding="{Binding Path=ISPName, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  اعتبار " Width="*" Binding="{Binding Path=Credit, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  قبل از شارژ " Width="*" Binding="{Binding Path=BeforeCredit, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  بعد از شارژ " Width="*" Binding="{Binding Path=AfterCredit, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  توضیحات " Width="*" Binding="{Binding Path=Comment, UpdateSourceTrigger=PropertyChanged}" />

                            </DataGrid.Columns>
                        </DataGrid>

                    </Grid>
                </TabItem>

                <TabItem Header=" اطلاعات سپرده کاربر (Deposit) " Name="DepositChangeTab" code:UIElementExtension.ResourceNameVisible="ADSLAAAInfo.DepositChangeTab">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="10" />
                            <RowDefinition Height="auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Label Grid.Row="0" Grid.Column="0" Content="از تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="1" Name="DepositStartDate" />

                        <Label Grid.Row="0" Grid.Column="2" Content="تا تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="3" Name="DepositEndDate" />

                        <Button Grid.Row="1" Grid.Column="3" HorizontalAlignment="Right" Content="جستجو" Name="SearchChangeDepositButton" Click="SearchChangeDepositButton_Click" Width="100" />

                        <DataGrid Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="4" 
                      DockPanel.Dock="Bottom" x:Name="DepositChangeDataGrid"
                       BorderThickness="0 1 0 0"
                      AutoGenerateColumns="False"
                      CanUserAddRows="True"
                      CanUserResizeColumns="True"
                      CanUserResizeRows="False"
                      CanUserDeleteRows="False"
                      SelectionMode="Single"
                      SelectionUnit="FullRow"
                      ItemsSource="{Binding}"                                
                      IsReadOnly="True">
                            <DataGrid.Columns>

                                <DataGridTextColumn Header="  تاریخ " Width="*" Binding="{Binding Path=Date, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" عملیات " Width="*" Binding="{Binding Path=Action, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  سپرده " Width="*" Binding="{Binding Path=Deposit, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  نام ISP " Width="*" Binding="{Binding Path=ISPName, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  نام ادمین " Width="*" Binding="{Binding Path=AdminName, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  آدرس " Width="*" Binding="{Binding Path=RemoteAddress, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  توضیحات " Width="*" Binding="{Binding Path=Comment, UpdateSourceTrigger=PropertyChanged}" />
                                <!--<DataGridTemplateColumn Header="جزییات" Width="50">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Image Source="/CRM.Application;component/Images/info1_16x16.png" Width="16" Height="16" HorizontalAlignment="Center" Tag="{Binding Details}" MouseLeftButtonDown="ImageView_MouseLeftButtonDown" ToolTip="{Binding RequesRejectDescription}" />
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>-->
                            </DataGrid.Columns>
                        </DataGrid>

                    </Grid>
                </TabItem>

                <TabItem Header=" اطلاعات حسابرسی کاربر " Name="AuditChangeTab" code:UIElementExtension.ResourceNameVisible="ADSLAAAInfo.AuditChangeTab">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="10" />
                            <RowDefinition Height="auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Label Grid.Row="0" Grid.Column="0" Content="از تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="1" Name="AuditStartDate" />

                        <Label Grid.Row="0" Grid.Column="2" Content="تا تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="3" Name="AuditEndDate" />

                        <Button Grid.Row="1" Grid.Column="3" HorizontalAlignment="Right" Content="جستجو" Name="SearchChangeAuditButton" Click="SearchChangeAuditButton_Click" Width="100" />

                        <DataGrid Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="4" 
                      DockPanel.Dock="Bottom" x:Name="AuditChangeDataGrid"
                       BorderThickness="0 1 0 0"
                      AutoGenerateColumns="False"
                      CanUserAddRows="True"
                      CanUserResizeColumns="True"
                      CanUserResizeRows="False"
                      CanUserDeleteRows="False"
                      SelectionMode="Single"
                      SelectionUnit="FullRow"
                      ItemsSource="{Binding}"                                
                      IsReadOnly="True">
                            <DataGrid.Columns>

                                <DataGridTextColumn Header="  تاریخ " Width="*" Binding="{Binding Path=Date, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" نام ادمین " Width="*" Binding="{Binding Path=AdminName, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  کاربر / گروه " Width="*" Binding="{Binding Path=IsUser, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  عملیات " Width="*" Binding="{Binding Path=AttrName, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  مقدار قدیم " Width="*" Binding="{Binding Path=OldValue, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  مقدار جدید " Width="*" Binding="{Binding Path=NewValue, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="  IP درخواست " Width="*" Binding="{Binding Path=RemoteIP, UpdateSourceTrigger=PropertyChanged}" />
                            </DataGrid.Columns>
                        </DataGrid>

                    </Grid>
                </TabItem>

                <TabItem Header=" سوابق شارژ مجدد " Name="HistoryServiceInfoTab" code:UIElementExtension.ResourceNameVisible="ADSLAAAInfo.HistoryServiceInfoTab">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="10" />
                            <RowDefinition Height="auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Label Grid.Row="0" Grid.Column="0" Content="از تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="1" Name="HistoryServiceStartDate" />

                        <Label Grid.Row="0" Grid.Column="2" Content="تا تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="3" Name="HistoryServiceEndDate" />

                        <Button Grid.Row="1" Grid.Column="3" HorizontalAlignment="Right" Content="جستجو" Name="HistoryServiceButton" Click="HistoryServiceButton_Click" Width="100" />

                        <DataGrid Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="4"  DockPanel.Dock="Bottom" x:Name="HistoryServiceDataGrid" 
                            BorderThickness="0 1 0 0"
                            AutoGenerateColumns="False"
                            CanUserAddRows="True"
                            CanUserResizeColumns="True"
                            CanUserResizeRows="False"
                            CanUserDeleteRows="False"
                            SelectionMode="Single"
                            SelectionUnit="FullRow"
                            ItemsSource="{Binding}"                                
                            IsReadOnly="True">
                            
                            <DataGrid.ContextMenu>
                                <ContextMenu FontFamily="Tahoma">
                                    <MenuItem Header="اعمال در AAA" Click="AddServiceIBSngItem">
                                        <MenuItem.Icon>
                                            <Image Source="/CRM.Application;component/Images/add_16x16.png" Width="16" Height="16" />
                                        </MenuItem.Icon>
                                    </MenuItem>
                                </ContextMenu>
                            </DataGrid.ContextMenu>
                            
                            <DataGrid.Columns>

                                <DataGridTextColumn Header=" شناسه درخواست " Width="*" Binding="{Binding Path=RequestID, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" نحوه خرید " Width="*" Binding="{Binding Path=TypeID, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" نام سرویس " Width="3*" Binding="{Binding Path=ServiceTitle, UpdateSourceTrigger=PropertyChanged}" />                                
                                <DataGridTextColumn Header=" تاریخ پرداخت " Width="*" Binding="{Binding Path=PaymentDate, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" کاربر " Width="*" Binding="{Binding Path=ModifyUser, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridCheckBoxColumn Header=" پرداخت شده " Width="*" Binding="{Binding Path=IsPaid, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" >
                                    <DataGridCheckBoxColumn.ElementStyle>
                                        <Style TargetType="CheckBox">
                                            <Setter Property="HorizontalAlignment" Value="Left"/>
                                        </Style>
                                    </DataGridCheckBoxColumn.ElementStyle>
                                </DataGridCheckBoxColumn>

                                <DataGridTemplateColumn>
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Image Source="{Binding IBSngStatus, Converter={StaticResource IBSngStatusNameToImageSourceConverter}}" Width="16" Height="16" HorizontalAlignment="Center" Tag="{Binding RequestID}" MouseLeftButtonDown="ImageView_MouseLeftButtonDown" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>

                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </TabItem>

                <TabItem Header=" سوابق خرید تراقیک " Name="HistoryTrafficInfoTab" code:UIElementExtension.ResourceNameVisible="ADSLAAAInfo.HistoryTrafficInfoTab">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="10" />
                            <RowDefinition Height="auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Label Grid.Row="0" Grid.Column="0" Content="از تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="1" Name="HistoryTrafficStartDate" />

                        <Label Grid.Row="0" Grid.Column="2" Content="تا تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="3" Name="HistoryTrafficEndDate" />

                        <Button Grid.Row="1" Grid.Column="3" HorizontalAlignment="Right" Content="جستجو" Name="HistoryTrafficButton" Click="HistoryTrafficButton_Click" Width="100" />

                        <DataGrid  Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="4"  DockPanel.Dock="Bottom" x:Name="HistoryTrafficDataGrid" 
                            BorderThickness="0 1 0 0"
                            AutoGenerateColumns="False"
                            CanUserAddRows="True"
                            CanUserResizeColumns="True"
                            CanUserResizeRows="False"
                            CanUserDeleteRows="False"
                            SelectionMode="Single"
                            SelectionUnit="FullRow"
                            ItemsSource="{Binding}"                                
                            IsReadOnly="True">
                            
                            <DataGrid.ContextMenu>
                                <ContextMenu FontFamily="Tahoma">
                                    <MenuItem Header="اعمال در AAA" Click="AddTrafficIBSngItem">
                                        <MenuItem.Icon>
                                            <Image Source="/CRM.Application;component/Images/add_16x16.png" Width="16" Height="16" />
                                        </MenuItem.Icon>
                                    </MenuItem>
                                </ContextMenu>
                            </DataGrid.ContextMenu>
                            
                            <DataGrid.Columns>
                                <DataGridTextColumn Header=" شناسه درخواست " Width="*" Binding="{Binding Path=RequestID, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" نحوه خرید " Width="*" Binding="{Binding Path=TypeID, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" نام ترافیک " Width="2*" Binding="{Binding Path=TrafficTitle, UpdateSourceTrigger=PropertyChanged}" />                                
                                <DataGridTextColumn Header=" تاریخ پرداخت " Width="*" Binding="{Binding Path=PaymentDate, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" کاربر " Width="*" Binding="{Binding Path=ModifyUser, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridCheckBoxColumn Header=" پرداخت شده " Width="*" Binding="{Binding Path=IsPaid, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" >
                                    <DataGridCheckBoxColumn.ElementStyle>
                                        <Style TargetType="CheckBox">
                                            <Setter Property="HorizontalAlignment" Value="Left"/>
                                        </Style>
                                    </DataGridCheckBoxColumn.ElementStyle>
                                </DataGridCheckBoxColumn>

                                <DataGridTemplateColumn>
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Image Source="{Binding IBSngStatus, Converter={StaticResource IBSngStatusNameToImageSourceConverter}}" Width="16" Height="16" HorizontalAlignment="Center" Tag="{Binding RequestID}" MouseLeftButtonDown="ImageView_MouseLeftButtonDown" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </TabItem>

                <TabItem Header=" سوابق خط " Name="HistoryInforequestTab" >
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="10" />
                            <RowDefinition Height="auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Label Grid.Row="0" Grid.Column="0" Content="از تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="1" Name="HistoryRequestStartDate" />

                        <Label Grid.Row="0" Grid.Column="2" Content="تا تاریخ : "/>
                        <cal:DatePicker Grid.Row="0" Grid.Column="3" Name="HistoryRequestEndDate" />

                        <Button Grid.Row="1" Grid.Column="3" HorizontalAlignment="Right" Content="جستجو" Name="HistoryRequestButton" Click="HistoryRequestButton_Click" Width="100" />

                        <DataGrid DockPanel.Dock="Bottom" x:Name="HistoryRequestDataGrid"  Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="4"
                                 BorderThickness="0 1 0 0"
                                 AutoGenerateColumns="False"
                                 CanUserAddRows="True"
                                 CanUserResizeColumns="True"
                                 CanUserResizeRows="False"
                                 CanUserDeleteRows="False"
                                 SelectionMode="Single"
                                 SelectionUnit="FullRow"
                                 ItemsSource="{Binding}"                                
                                 IsReadOnly="True">
                            <DataGrid.Columns>
                                <DataGridTemplateColumn>
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Image Source="/CRM.Application;component/Images/element_16x16.png" Width="16" Height="16" HorizontalAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTextColumn Header=" شناسه درخواست " Width="*" Binding="{Binding Path=ID, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" عنوان درخواست " Width="2*" Binding="{Binding Path=RequestTypeName, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" وضعیت فعلی " Width="*" Binding="{Binding Path=CurrentStep, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" تاریخ درج "   Width="*" Binding="{Binding Path=InsertDate, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" تاریخ اتمام " Width="*"  Binding="{Binding Path=EndDate, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" کاربر " Width="*"  Binding="{Binding Path=ModifyUser, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridCheckBoxColumn Header=" ابطال شده " Width="*" Binding="{Binding Path=IsCanceled, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" >
                                    <DataGridCheckBoxColumn.ElementStyle>
                                        <Style TargetType="CheckBox">
                                            <Setter Property="HorizontalAlignment" Value="Left"/>
                                        </Style>
                                    </DataGridCheckBoxColumn.ElementStyle>
                                </DataGridCheckBoxColumn>
                                <DataGridCheckBoxColumn Header=" در لیست انتظار " Width="*" Binding="{Binding Path=IsWatting, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" >
                                    <DataGridCheckBoxColumn.ElementStyle>
                                        <Style TargetType="CheckBox">
                                            <Setter Property="HorizontalAlignment" Value="Left"/>
                                        </Style>
                                    </DataGridCheckBoxColumn.ElementStyle>
                                </DataGridCheckBoxColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </TabItem>
                
                <TabItem Header=" عملیات " Name="ActionTab" code:UIElementExtension.ResourceNameVisible="ADSLAAAInfo.ActionTab">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="10" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="300" />
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Label Grid.Row="0" Grid.Column="0" Content="تغییر رمز ورود : "/>
                        <Image Grid.Row="0" Grid.Column="1" Name="ChangePasswordImage" HorizontalAlignment="Left" Source="/CRM.Application;component/Images/Setting_24x24.png" Width="24" Height="24" MouseLeftButtonDown="ChangePasswordImage_MouseLeftButtonDown" code:UIElementExtension.ResourceNameEditable="ADSLAAAInfo.ChangePasswordImage"/>

                        <Label Grid.Row="0" Grid.Column="2" Content="رمز ورود : "/>
                        <TextBox Grid.Row="0" Grid.Column="3" Name="ChangePasswordTextBox"  />

                        <Label Grid.Row="1" Grid.Column="0" Content="تغییر رمز ورود پنل مشترکین : "/>
                        <Image Grid.Row="1" Grid.Column="1" Name="ChangeWebPasswordImage" HorizontalAlignment="Left" Source="/CRM.Application;component/Images/Setting_24x24.png" Width="24" Height="24" MouseLeftButtonDown="ChangeWebPasswordImage_MouseLeftButtonDown" code:UIElementExtension.ResourceNameEditable="ADSLAAAInfo.ChangeWebPasswordImage"/>

                        <Label Grid.Row="1" Grid.Column="2" Content="رمز ورود پنل مشترکین : "/>
                        <TextBox Grid.Row="1" Grid.Column="3" Name="ChangeWebPasswordTextBox"  />

                        <Label Grid.Row="2" Grid.Column="0" Content="حذف آدرس فیزیکی : "/>
                        <Image Grid.Row="2" Grid.Column="1" Name="DeleteMACAddressImage" HorizontalAlignment="Left" Source="/CRM.Application;component/Images/Setting_24x24.png" Width="24" Height="24" MouseLeftButtonDown="DeleteMACAddressImage_MouseLeftButtonDown" code:UIElementExtension.ResourceNameEditable="ADSLAAAInfo.DeleteMACAddressImage"/>

                        <Label Grid.Row="2" Grid.Column="2" Content="آدرس فیزیکی: "/>
                        <TextBox Grid.Row="2" Grid.Column="3" Name="MacAddressTextBox" IsReadOnly="True" FlowDirection="LeftToRight" />

                        <Label Grid.Row="3" Grid.Column="0" Content="تغییر آدرس فیزیکی : "/>
                        <Image Grid.Row="3" Grid.Column="1" Name="ChangeMACAddressImage" HorizontalAlignment="Left" Source="/CRM.Application;component/Images/Setting_24x24.png" Width="24" Height="24" MouseLeftButtonDown="ChangeMACAddressImage_MouseLeftButtonDown" code:UIElementExtension.ResourceNameEditable="ADSLAAAInfo.ChangeMACAddressImage"/>

                        <Label Grid.Row="3" Grid.Column="2" Content="آدرس فیزیکی جدید: "/>
                        <TextBox Grid.Row="3" Grid.Column="3" Name="NewMacAddressTextBox" PreviewTextInput="NewMacAddressTextBox_PreviewTextInput" />

                        <Label Grid.Row="4" Grid.Column="0" Content="تغییر چندین اتصال : "/>
                        <Image Grid.Row="4" Grid.Column="1" Name="ChangeMultiLoginImage" HorizontalAlignment="Left" Source="/CRM.Application;component/Images/Setting_24x24.png" Width="24" Height="24" MouseLeftButtonDown="ChangeMultiLoginImage_MouseLeftButtonDown" code:UIElementExtension.ResourceNameEditable="ADSLAAAInfo.ChangeMultiLoginImage"/>

                        <Label Grid.Row="4" Grid.Column="2" Content="تعداد چندین اتصال: "/>
                        <TextBox Grid.Row="4" Grid.Column="3" Name="MultiLoginTextBox" PreviewTextInput="MultiLoginTextBox_PreviewTextInput" />

                        <Label Grid.Row="5" Grid.Column="0" Content="صفر کردن باقیمانده روزها : "/>
                        <Image Grid.Row="5" Grid.Column="1" Name="DeleteRemainDayImage" HorizontalAlignment="Left" Source="/CRM.Application;component/Images/Setting_24x24.png" Width="24" Height="24" MouseLeftButtonDown="DeleteRemainDayImage_MouseLeftButtonDown" code:UIElementExtension.ResourceNameEditable="ADSLAAAInfo.DeleteRemainDayImage"/>

                        <Label Grid.Row="5" Grid.Column="2" Content="تعداد باقیمانده روزها : "/>
                        <TextBox Grid.Row="5" Grid.Column="3" Name="RemainDaysTextBox" IsReadOnly="True" />

                        <Label Grid.Row="6" Grid.Column="0" Content="Kill کردن کاربر : "/>
                        <Image Grid.Row="6" Grid.Column="1" Name="KillUserImage" HorizontalAlignment="Left" Source="/CRM.Application;component/Images/Setting_24x24.png" Width="24" Height="24" MouseLeftButtonDown="KillUserImage_MouseLeftButtonDown" code:UIElementExtension.ResourceNameEditable="ADSLAAAInfo.KillUserImage"/>

                        <Label Grid.Row="6" Grid.Column="2" Content="وضعیت کنونی کاربر : "/>
                        <Image Grid.Row="6" Grid.Column="3" Name="UserStatusImage1" HorizontalAlignment="Left" Height="30" Width="30"/>

                        <Label Grid.Row="7" Grid.Column="0" Content="Lock کردن کاربر : "/>
                        <Image Grid.Row="7" Grid.Column="1" Name="LockUserImage" HorizontalAlignment="Left" Source="/CRM.Application;component/Images/Setting_24x24.png" Width="24" Height="24" MouseLeftButtonDown="LockUserImage_MouseLeftButtonDown" code:UIElementExtension.ResourceNameEditable="ADSLAAAInfo.LockUserImage"/>

                        <Label Grid.Row="7" Grid.Column="2" Content="توضیحات: "/>
                        <TextBox Grid.Row="7" Grid.Column="3" Name="LockCommentTextBox" />

                        <Label Grid.Row="8" Grid.Column="0" Content="UnLock کردن کاربر : "/>
                        <Image Grid.Row="8" Grid.Column="1" Name="UnLockUserImage" HorizontalAlignment="Left" Source="/CRM.Application;component/Images/Setting_24x24.png" Width="24" Height="24" MouseLeftButtonDown="UnLockUserImage_MouseLeftButtonDown" code:UIElementExtension.ResourceNameEditable="ADSLAAAInfo.UnLockUserImage"/>

                        <Label Grid.Row="10" Grid.Column="0" Content="جستجو بر اساس کاربر : "/>
                        <TextBox Grid.Row="10" Grid.Column="1" Name="UserTextBox" />
                        <Button Grid.Row="10" Grid.Column="2" Content="جستجو" Name="SearchUserButton" Click="SearchUserButton_Click" /> 
                        
                        
                        <DataGrid Grid.Row="11" Grid.Column="0" Grid.ColumnSpan="4" DockPanel.Dock="Bottom" Name="ActionLogDataGrid"
                                      BorderThickness="0 1 0 0"
                                      AutoGenerateColumns="False"
                                      CanUserAddRows="True"
                                      CanUserResizeColumns="True"
                                      CanUserResizeRows="False"
                                      CanUserDeleteRows="False"
                                      SelectionMode="Single"
                                      SelectionUnit="FullRow"
                                      IsReadOnly="True"
                                      ItemsSource="{Binding}">

                            <DataGrid.Columns>
                                <DataGridTemplateColumn>
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Image Source="/CRM.Application;component/Images/element_16x16.png" Width="16" Height="16" HorizontalAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTextColumn Header=" نوع عملیات " Width="*" Binding="{Binding Path=Action, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" تاریخ " Width="*" Binding="{Binding Path=InsertDate, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" کاربر " Width="*" Binding="{Binding Path=User, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" مقدار قدیم " Width="*" Binding="{Binding Path=OldValue, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" مقدار جدید " Width="*" Binding="{Binding Path=NewValue, UpdateSourceTrigger=PropertyChanged}" />
                            </DataGrid.Columns>
                        </DataGrid>

                    </Grid>
                </TabItem>

                <TabItem Header=" پشتیبانی " Name="SupportTab" code:UIElementExtension.ResourceNameVisible="ADSLAAAInfo.SupportTab">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="100" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="10" />
                            <RowDefinition Height="auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Label Grid.Row="0" Grid.Column="0" Content="توضیحات : "/>
                        <TextBox Grid.Row="0" Grid.Column="1" Name="CommentTextBox"  />

                        <Button Grid.Row="1" Grid.Column="3" HorizontalAlignment="Right" Content="ثبت و ارسال" Name="SupportSaveButton" Click="SupportSaveButton_Click" Width="100" />

                        <DataGrid Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2" DockPanel.Dock="Bottom" Name="ItemsDataGrid"
                                      BorderThickness="0 1 0 0"
                                      AutoGenerateColumns="False"
                                      CanUserAddRows="True"
                                      CanUserResizeColumns="True"
                                      CanUserResizeRows="False"
                                      CanUserDeleteRows="False"
                                      SelectionMode="Single"
                                      SelectionUnit="FullRow"
                                      IsReadOnly="True"
                                      ItemsSource="{Binding}">

                            <DataGrid.Columns>
                                <DataGridTemplateColumn>
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Image Source="/CRM.Application;component/Images/element_16x16.png" Width="16" Height="16" HorizontalAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTextColumn Header=" شماره درخواست " Width="*" Binding="{Binding Path=ID, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" نام درخواست کننده " Width="*" Binding="{Binding Path=RequesterName, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" تاریخ درخواست " Width="*" Binding="{Binding Path=RequestDate, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" نام پاسخ دهنده " Width="*" Binding="{Binding Path=ResultName, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" تاریخ پاسخ " Width="*" Binding="{Binding Path=ResultDate, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" توضیحات اولیه " Width="3*" Binding="{Binding Path=FirstDescription, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" نتیجه نهایی " Width="3*" Binding="{Binding Path=ResultDescription, UpdateSourceTrigger=PropertyChanged}" />

                            </DataGrid.Columns>
                        </DataGrid>

                    </Grid>
                </TabItem>
                
                <TabItem Header=" توضیحات " Name="CommentTab" code:UIElementExtension.ResourceNameVisible="ADSLAAAInfo.CommnetTab">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="100" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="10" />
                            <RowDefinition Height="auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Label Grid.Row="0" Grid.Column="0" Content="توضیحات : "/>
                        <TextBox Grid.Row="0" Grid.Column="1" Name="Comment1TextBox"  />

                        <Button Grid.Row="1" Grid.Column="3" HorizontalAlignment="Right" Content="ذخیره" Name="SaveCommnetButton" Click="SaveCommnetButton_Click" Width="100" />

                        <DataGrid Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2" DockPanel.Dock="Bottom" Name="CommnetsDataGrid"
                                      BorderThickness="0 1 0 0"
                                      AutoGenerateColumns="False"
                                      CanUserAddRows="True"
                                      CanUserResizeColumns="True"
                                      CanUserResizeRows="False"
                                      CanUserDeleteRows="False"
                                      SelectionMode="Single"
                                      SelectionUnit="FullRow"
                                      IsReadOnly="True"
                                      ItemsSource="{Binding}">

                            <DataGrid.Columns>
                                <DataGridTemplateColumn>
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Image Source="/CRM.Application;component/Images/element_16x16.png" Width="16" Height="16" HorizontalAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTextColumn Header=" کاربر " Width="*" Binding="{Binding Path=User, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" تاریخ " Width="*" Binding="{Binding Path=InsertDate, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header=" توضیحات " Width="5*" Binding="{Binding Path=Comment, UpdateSourceTrigger=PropertyChanged}" />

                            </DataGrid.Columns>
                        </DataGrid>

                    </Grid>
                </TabItem>
            </TabControl>

        </Grid>
    </ScrollViewer>
</Local:PopupWindow>
