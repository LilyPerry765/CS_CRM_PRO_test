<UserControl x:Class="CRM.Application.UserControls.ConnectionOfPost"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:cal="http://schemas.microsoft.com/wpf/2008/datepicker" 
             mc:Ignorable="d" Loaded="UserControl_Loaded" Width="700">
    <Expander Name="CabinetAndPostExpander" FlowDirection="RightToLeft" Header="انتخاب پست" IsExpanded="True" >
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="30"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Label Content="ورودی" Grid.Row="0" Grid.Column="0"/>
            <ComboBox x:Name="InputComboBox" Grid.Row="0" Grid.Column="1" DisplayMemberPath="Name" SelectedValuePath="LongID"  SelectionChanged="InputComboBox_SelectionChanged"/>

            <GroupBox Header="لیست اتصال های پست" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="8">
                <DataGrid DockPanel.Dock="Bottom" x:Name="ConnectionDataGrid"
                      BorderThickness="0 1 0 0"
                      AutoGenerateColumns="False"
                      CanUserAddRows="True"
                      CanUserResizeColumns="True"
                      CanUserResizeRows="False"
                      CanUserDeleteRows="False"
                      SelectionMode="Single"
                      SelectionUnit="FullRow"
                      SelectedValuePath="BuchtID"
                      ItemsSource="{Binding}">
                    <DataGrid.RowStyle>
                        <Style TargetType="DataGridRow">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Path=PostContactStatus, Converter={StaticResource PostContactColorConverter}}" Value="PCMAllocation">
                                    <Setter Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                <GradientStop Color="#DEFEC4" Offset="0.0" />
                                                <GradientStop Color="#C5FF8A" Offset="1.0" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Path=PostContactStatus, Converter={ StaticResource PostContactColorConverter}}" Value="Free">
                                    <Setter Property="BorderBrush" Value="#9CDAFF" />
                                    <Setter Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                <GradientStop Color="#DEFEC4" Offset="0.0" />
                                                <GradientStop Color="#C5FF8A" Offset="1.0" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Path=PostContactStatus, Converter={ StaticResource PostContactColorConverter}}" Value="FullBooking">
                                    <Setter Property="BorderBrush" Value="#9CDAFF" />
                                    <Setter Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                <GradientStop Color="#FEC4E6" Offset="0.0" />
                                                <GradientStop Color="#FF8ACE" Offset="1.0" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Path=PostContactStatus, Converter={ StaticResource PostContactColorConverter}}" Value="NoCableConnection">
                                    <Setter Property="BorderBrush" Value="#9CDAFF" />
                                    <Setter Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                <GradientStop Color="#FEFAC4" Offset="0.0" />
                                                <GradientStop Color="#FFF78A" Offset="1.0" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Path=PostContactStatus, Converter={ StaticResource PostContactColorConverter}}" Value="CableConnection">
                                    <Setter Property="BorderBrush" Value="#9CDAFF" />
                                    <Setter Property="Background">
                                        <Setter.Value>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                <GradientStop Color="#C4E9FE" Offset="0.0" />
                                                <GradientStop Color="#8AD3FF" Offset="1.0" />
                                            </LinearGradientBrush>
                                        </Setter.Value>
                                    </Setter>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </DataGrid.RowStyle>
                    <DataGrid.Columns>
                        <DataGridTemplateColumn>
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Image Source="{Binding Path=PostContactType, Converter={StaticResource PostContactImageConverter}}"  Width="16" Height="16" HorizontalAlignment="Center" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTextColumn Header="ورودی" Width="*" Binding="{Binding Path=InputNumber, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True"/>
                        <DataGridTextColumn Header="MDF اتصالی" Width="*" x:Name="ConnectionColumn"  Binding="{Binding Path=Connection, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True"/>
                        <DataGridTextColumn Header="اتصالی پست" Width="*" x:Name="PostContactColumn"  Binding="{Binding Path=PostContact, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True"/>
                        <DataGridComboBoxColumn Header="نوع بوخت" Width="*"  x:Name="BuchtTypeColumn" SelectedValueBinding="{Binding Path=BuchtType, UpdateSourceTrigger=PropertyChanged}" DisplayMemberPath="Name" SelectedValuePath="ID" IsReadOnly="True"/>
                        <DataGridTextColumn Header="مشخصه پی سی ام" Width="*" x:Name="MUIDColumn" Binding="{Binding Path=MUID, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True"/>
                        <DataGridTextColumn Header="کد سوئیچ" Width="*"  x:Name="SwitchCodeColumn"  Binding="{Binding Path=SwitchCode, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                        <DataGridTextColumn Header="تلفن" Width="*" x:Name="TelePhoneNoColumn" Binding="{Binding Path=TelePhoneNo, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                        <DataGridComboBoxColumn Header="وضعیت" Width="2*" x:Name="StatusColumn" SelectedValueBinding="{Binding Path=PostContactStatus, UpdateSourceTrigger=PropertyChanged}" DisplayMemberPath="Name" SelectedValuePath="ID" IsReadOnly="True" />
                    </DataGrid.Columns>
                </DataGrid>
            </GroupBox>
        </Grid>
    </Expander>
</UserControl>
