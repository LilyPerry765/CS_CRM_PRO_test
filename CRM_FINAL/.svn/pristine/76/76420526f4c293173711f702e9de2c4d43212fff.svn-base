<Local:PopupWindow x:Class="CRM.Application.Views.ADSLInstallCostCenterForm"
                   Title="فرم ویرایش هزینه نصب ADSL"
                    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                    xmlns:UserControls="clr-namespace:CRM.Application.UserControls"
                    xmlns:sys="clr-namespace:System.Configuration.Assemblies;assembly=mscorlib" 
                    xmlns:cal="http://schemas.microsoft.com/wpf/2008/datepicker" 
                    xmlns:Local="clr-namespace:CRM.Application.Local"
                    mc:Ignorable="d"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"  
                    Loaded="PopupWindow_Loaded" 
                   Icon="/CRM.Application;component/Images/Center_48x48.png"
                   ResizeMode="NoResize" Height="300" Width="500">
    <DockPanel FlowDirection="RightToLeft">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="30"/>
                <RowDefinition Height="auto" />
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Label Grid.Row="0" Grid.Column="0" Content="شهر : " VerticalAlignment="Center"/>
            <ComboBox Grid.Row="0" Grid.Column="1" x:Name="CityComboBox" 
                                                DisplayMemberPath="Name"
                          SelectedValuePath="ID" SelectedValue="{Binding ID}" TabIndex="1" SelectionChanged="LoadGrid" />
            <Button  Content="ذخیره" Grid.ColumnSpan="2" Grid.Row="2" Name="SaveButton" Click="SaveForm" Tag="Footer" Width="83" Height="25" />

            <DataGrid  x:Name="ItemsDataGrid" 
                          BorderThickness="0 1 0 0"  
                          AutoGenerateColumns="False" 
                          CanUserResizeColumns="True"
                          CanUserResizeRows="True" 
                          CanUserDeleteRows="True" 
                          SelectionMode="Single"
                          SelectionUnit="FullRow" 
                          ItemsSource="{Binding}" 
                          IsReadOnly="false"
                          RowEditEnding="Save"
                          Grid.Row="1"
                          Grid.ColumnSpan="2">
                <DataGrid.Columns>
                    <DataGridTemplateColumn>
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Image Source="/CRM.Application;component/Images/element_16x16.png" Width="16" Height="16" HorizontalAlignment="Center" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridComboBoxColumn Header=" نام مرکز "   Width="*"  SelectedValueBinding="{Binding Path=CenterID, UpdateSourceTrigger=PropertyChanged}"
                                            SelectedValuePath="ID" DisplayMemberPath="Name" x:Name="CenterColumn" IsReadOnly="True"/>
                    <DataGridTextColumn Header=" هزینه (ریا ل) "  Width="*"  Binding="{Binding Path=InstallADSLCost,UpdateSourceTrigger=PropertyChanged}"  />
                </DataGrid.Columns>
            </DataGrid>
        </Grid>
    </DockPanel>
</Local:PopupWindow>
