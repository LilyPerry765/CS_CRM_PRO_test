<Local:PopupWindow x:Class="CRM.Application.Views.PAPInfoSpaceandPowerForm"
                   Title="فرم ویرایش فضا و پاور شرکت PAP"                   
                   xmlns:UserControls="clr-namespace:CRM.Application.UserControls"
                   xmlns:Local="clr-namespace:CRM.Application.Local"
                   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                   xmlns:sys="clr-namespace:System.Configuration.Assemblies;assembly=mscorlib"
                   xmlns:cal="http://schemas.microsoft.com/wpf/2008/datepicker"
                   xmlns:uc="clr-namespace:CRM.Application.UserControls"
                   mc:Ignorable="d" xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    Width="550" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                   Icon="/CRM.Application;component/Images/PAP_48x48.png"
                   Loaded="PopupWindow_Loaded">
    <DockPanel FlowDirection="RightToLeft">

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>

            <GroupBox Grid.Row="0" Header="اطلاعات کنونی">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="20" />
                    </Grid.RowDefinitions>

                    <Label Grid.Column="0" Grid.Row="0" Content="شرکت PAP : " />
                    <TextBox Grid.Column="1" Grid.Row="0" Name="PAPInfoTextBox" IsReadOnly="True" />

                    <Label Grid.Column="0" Grid.Row="1" Content="مرکز : " />
                    <ComboBox Grid.Column="1" Grid.Row="1" x:Name="CenterComboBox" DisplayMemberPath="CenterName" SelectedValuePath="ID" SelectedValue="{Binding CenterID}" IsEditable="False" />

                    <Label Grid.Column="0" Grid.Row="2" Content="برق AC : " />
                    <TextBox Grid.Column="1" Grid.Row="2" Name="ACPowerTextBox" Text="{Binding ACPower}" Style="{StaticResource ResourceKey=NumericTextBox}" PreviewTextInput="TextBox_PreviewTextInput"/>

                    <Label Grid.Column="0" Grid.Row="3" Content="برق DC : " />
                    <TextBox Grid.Column="1" Grid.Row="3" Name="DCPowerTextBox" Text="{Binding DCPower}" Style="{StaticResource ResourceKey=NumericTextBox}" PreviewTextInput="TextBox_PreviewTextInput" />

                    <Label Grid.Column="0" Grid.Row="4" Content="فضا : " />
                    <TextBox Grid.Column="1" Grid.Row="4" Name="SpaceTextBox" Text="{Binding Space}" Style="{StaticResource ResourceKey=NumericTextBox}" />

                    <Label Grid.Column="0" Grid.Row="5" Content="تاریخ شروع تغییرات : " />
                    <cal:DatePicker Grid.Column="1" Grid.Row="5" Name="FromDate" SelectedDate="{Binding FromDate}" />
                    
                </Grid>
            </GroupBox>

            <GroupBox Grid.Row="1" Header="سوابق">
                <DataGrid DockPanel.Dock="Bottom" x:Name="ItemsDataGrid"
                      BorderThickness="0 1 0 0"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      CanUserResizeColumns="True"
                      CanUserResizeRows="False"
                      CanUserDeleteRows="False"
                      SelectionMode="Single"
                      SelectionUnit="FullRow"
                      ItemsSource="{Binding}"
                      IsReadOnly="True">

                    <DataGrid.Columns>

                        <DataGridTextColumn Width="*" Header=" برق AC " Binding="{Binding Path=ACPower, UpdateSourceTrigger=PropertyChanged}" />
                        <DataGridTextColumn Width="*" Header=" برق DC " Binding="{Binding Path=DCPower, UpdateSourceTrigger=PropertyChanged}" />
                        <DataGridTextColumn Width="*" Header=" فضا " Binding="{Binding Path=Space, UpdateSourceTrigger=PropertyChanged}" />
                        <DataGridTextColumn Width="*"   Header=" از تاریخ "  Binding="{Binding Path=FromDate, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource PersianDateConverter}}" />
                        <DataGridTextColumn Width="*"   Header=" تا تاریخ "  Binding="{Binding Path=EndDate, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource PersianDateConverter}}" />

                    </DataGrid.Columns>
                </DataGrid>

            </GroupBox>

            <GroupBox Grid.Row="2" Header="مجموع امکانات فضا و پاور این شرکت در کلیه مراکز">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                    </Grid.RowDefinitions>

                    <Label Grid.Row="0" Grid.Column="0" Content="برق AC : " />
                    <TextBox Grid.Row="0" Grid.Column="1" Name="ACTextox"  IsReadOnly="True" Style="{StaticResource ResourceKey=NumericTextBox}" />

                    <Label Grid.Row="1" Grid.Column="0" Content="برق DC : " />
                    <TextBox Grid.Row="1" Grid.Column="1" Name="DCTextox"  IsReadOnly="True" Style="{StaticResource ResourceKey=NumericTextBox}" />

                    <Label Grid.Row="2" Grid.Column="0" Content="فضا :          " />
                    <TextBox Grid.Row="2" Grid.Column="1" Name="SpaceTextox"  IsReadOnly="True" Style="{StaticResource ResourceKey=NumericTextBox}" />

                </Grid>
            </GroupBox>

            <Button Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="2" Content="ذخیره" Name="SaveButton" Click="SaveForm" Tag="Footer" />
        </Grid>
    </DockPanel>


</Local:PopupWindow>
