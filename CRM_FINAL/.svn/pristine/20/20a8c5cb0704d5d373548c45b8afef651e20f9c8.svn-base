<Local:UserControlBase 
              xmlns:Local="clr-namespace:CRM.Application.Local"
             x:Class="CRM.Application.UserControls.ChangeLocationUserControl" 
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:cal="http://schemas.microsoft.com/wpf/2008/datepicker" 
             xmlns:sv="clr-namespace:CRM.Application.StaticValidation"
             mc:Ignorable="d" d:DesignWidth="820"
             Loaded="UserControl_Loaded">
    <DockPanel FlowDirection="RightToLeft">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>

            <GroupBox Grid.Row="0" Margin="0,0,0,10">
                <GroupBox.Header>
                    <Label Content="مشخصات آدرس" FontWeight="Bold" Foreground="#355E92" FontFamily="/CRM.Application;Component/Resources/Fonts/#Nazanin" FontSize="14"/>
                </GroupBox.Header>
                <Grid x:Name="AddressInfo">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30" />
                        <RowDefinition Height="30" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="3*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <Label Grid.Row="0" Grid.Column="0" Content="کدپستی : "/>
                    <TextBox Grid.Row="0" Grid.Column="1" Name="InstallPostalCodeTextBox">
                        <TextBox.Text>
                            <Binding RelativeSource="{RelativeSource Self}" Path="Text" UpdateSourceTrigger="LostFocus" ValidatesOnDataErrors="True">
                                <Binding.ValidationRules>
                                    <sv:StaticValidation ValidationType="Pattern" Pattern="^[0-9]+$"/>
                                </Binding.ValidationRules>
                            </Binding>
                        </TextBox.Text>
                    </TextBox>

                    <Button Grid.Row="0" Grid.Column="2" Click="SearchInstallAddress_Click" Content="جستجو" Margin="20,0,20,0" />

                    <Label Grid.Row="0" Grid.Column="3" Content="آدرس نصب : "/>
                    <TextBox Grid.Row="0" Grid.Column="4"  Name="InstallAddressTextBox" />

                    <Button Grid.Row="0" Grid.Column="5" x:Name="InstallAddressButton" Click="InstallAddressButton_Click" Content="ویرایش" />

                    <Label Grid.Row="1" Grid.Column="0" Content="کدپستی : " />
                    <TextBox Grid.Row="1" Grid.Column="1" Name="CorrespondencePostalCodeTextBox">
                        <TextBox.Text>
                            <Binding RelativeSource="{RelativeSource Self}" Path="Text" UpdateSourceTrigger="LostFocus" ValidatesOnDataErrors="True">
                                <Binding.ValidationRules>
                                    <sv:StaticValidation ValidationType="Pattern" Pattern="^[0-9]+$"/>
                                </Binding.ValidationRules>
                            </Binding>
                        </TextBox.Text>
                    </TextBox>

                    <Button Grid.Row="1" Grid.Column="2" Click="SearchCorrespondenceAddress_Click" Content="جستجو" Margin="20,0,20,0" />

                    <Label Grid.Row="1" Grid.Column="3" Content="آدرس مکاتبه : " />
                    <TextBox Grid.Row="1" Grid.Column="4"  Name="CorrespondenceAddressTextBox" />

                    <Button Grid.Row="1" Grid.Column="5"  x:Name="CorrespondenceAddressButton" Click="CorrespondenceAddressButton_Click" Content="ویرایش"/>

                </Grid>
            </GroupBox>

            <GroupBox Header="مشخصات دیگر"  Grid.Row="1" Margin="0,0,0,10">
                <Grid x:Name="OtherInfo">
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="100" />
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="100" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Label Grid.Row="0" Grid.Column="0" Content="تلفن همجوار" Height="30" />
                    <TextBox Grid.Row="0" Grid.Column="1"  Name="NearestTelephonTextBox" Height="30" />

                    <Label Grid.Row="1" Grid.Column="0" Content="تجهیزات" Height="30" />
                    <ComboBox  Grid.Row="1" Grid.Column="1" Name="EquipmentComboBox" DisplayMemberPath="Name" SelectedValuePath="ID" Height="30" />

                    <Label Grid.Row="1" Grid.Column="2" Content="مرکز مبدا" x:Name="SourceLabel" Visibility="Collapsed" Height="30" />
                    <ComboBox Grid.Row="1" Grid.Column="3" x:Name="SourceComboBox"  DisplayMemberPath="Name" SelectedValuePath="ID" Visibility="Collapsed" Height="30" />

                    <Label     Grid.Row="2" Grid.Column="0" Content="مرکز مقصد" x:Name="TargetLabel" Height="30" />
                    <ComboBox  Grid.Row="2" Grid.Column="1" x:Name="TargetComboBox"  SelectedValuePath="ID" DisplayMemberPath="CenterName" SelectionChanged="TargetComboBox_SelectionChanged" Height="30">
                        <ComboBox.SelectedItem>
                            <Binding RelativeSource="{RelativeSource Self}" Path="GetType"  ValidatesOnDataErrors="True">
                                <Binding.ValidationRules>
                                    <sv:StaticValidation ValidationType="NotNull"/>
                                </Binding.ValidationRules>
                            </Binding>
                        </ComboBox.SelectedItem>
                    </ComboBox>

                    <Label      Grid.Row="3" Grid.Column="0"  Content="همراه تغییر نام" x:Name="WithChangeNameLabel" Height="30" />
                    <CheckBox   Grid.Row="3" Grid.Column="1"  x:Name="WithChangeNameCheckBox" IsThreeState="False" Height="30" />

                    <GroupBox Header="مشخصات مشترک جدید" x:Name="NewCustomerInfoGroupBox" Margin="5" Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="4" Visibility="{Binding ElementName=WithChangeNameCheckBox, Path=IsChecked,Converter={StaticResource BooleanToVisibilityConverter},ConverterParameter=VisibilitWithCheckBox}">
                        <Grid x:Name="NewCustomerInfo">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30" />
                                <RowDefinition Height="30" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="180" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="auto" />
                                <ColumnDefinition Name="CustomerNameRow" Width="100" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="auto" />
                            </Grid.ColumnDefinitions>

                            <Label Grid.Row="0" Grid.Column="0" Content="کدملی مشترک / شماره ثبت : " />
                            <TextBox Grid.Row="0" Grid.Column="1" Name="NationalCodeTextBox" Style="{StaticResource ResourceKey=NumericTextBox}" />

                            <Button Grid.Row="0" Grid.Column="2" Name="SearchCustomer" Content="جستجو" Click="SearchCustomer_Click" />

                            <Label Grid.Row="0" Grid.Column="3" Content="نام مشترک : " />
                            <TextBox Grid.Row="0" Grid.Column="4" Name="CustomerNameTextBox" IsReadOnly="True" />

                            <Button Grid.Row="0" Grid.Column="5" Content="ویرایش"  x:Name="EditSearchCustomer" Click="EditSearchCustomer_Click" />

                            <Button Grid.Row="1" Grid.Column="0" Content="جزئیات تلفن های مشترک" x:Name="CustomerTelephoneInfo" Click="CustomerTelephoneInfo_Click" />



                        </Grid>
                    </GroupBox>
                </Grid>
            </GroupBox>

            <GroupBox Header="مشخصات تلفن" Grid.Row="2" x:Name="TelephoneInfoGroupBox" Visibility="Collapsed" FontWeight="Bold" Foreground="#355E92" FontFamily="/CRM.Application;Component/Resources/Fonts/#Nazanin" FontSize="14">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Label Content="تلفن قدیم" Grid.Row="0" Grid.Column="0"/>
                    <TextBox x:Name="OldTelTextBox" IsReadOnly="True" Grid.Row="0" Grid.Column="1"/>

                    <Label Content="تلفن جدید" Grid.Row="0" Grid.Column="2"/>
                    <TextBox x:Name="NewTelTextBox" IsReadOnly="True" Grid.Row="0" Grid.Column="3"/>
                </Grid>
            </GroupBox>

        </Grid>
    </DockPanel>


</Local:UserControlBase>
